//
// Created by marijn on 9/9/24.
//

#ifndef STM32F412_MEMORY_MAP_H
#define STM32F412_MEMORY_MAP_H


/*!<
 * core hardware memory map
 * */
#define SCS_BASE					(0xE000E000UL)
#define ITM_BASE					(0xE0000000UL)
#define DWT_BASE					(0xE0001000UL)
#define TPI_BASE					(0xE0040000UL)
#define CORE_DEBUG_BASE				(0xE000EDF0UL)
/*!< core hardware peripherals */
#define SYS_TICK_BASE				(SCS_BASE +  0x0010UL)
#define NVIC_BASE					(SCS_BASE +  0x0100UL)
#define SCB_BASE					(SCS_BASE +  0x0D00UL)


/*!<
 * extended hardware memory map
 * */
#define FLASH_MEMORY_BASE			0x08000000UL
#define SRAM_BASE					0x20000000UL
#define PERIPH_BASE					0x40000000UL
// TODO: BIT BAND, OTP?
#define APB1PERIPH_BASE				PERIPH_BASE
#define APB2PERIPH_BASE				(PERIPH_BASE + 0x00010000UL)
#define AHB1PERIPH_BASE				(PERIPH_BASE + 0x00020000UL)
#define AHB2PERIPH_BASE				(PERIPH_BASE + 0x10000000UL)



/*!<
 * APB1 peripheral map
 * */
#define TIM2_BASE					(APB1PERIPH_BASE + 0x0000UL)
#define TIM3_BASE					(APB1PERIPH_BASE + 0x0400UL)
#define TIM4_BASE					(APB1PERIPH_BASE + 0x0800UL)
#define TIM5_BASE					(APB1PERIPH_BASE + 0x0C00UL)
#define TIM6_BASE					(APB1PERIPH_BASE + 0x1000UL)
#define TIM7_BASE					(APB1PERIPH_BASE + 0x1400UL)
#define TIM12_BASE					(APB1PERIPH_BASE + 0x1800UL)
#define TIM13_BASE					(APB1PERIPH_BASE + 0x1C00UL)
#define TIM14_BASE					(APB1PERIPH_BASE + 0x2000UL)
#define RTC_BASE					(APB1PERIPH_BASE + 0x2800UL)
#define WWDG_BASE					(APB1PERIPH_BASE + 0x2C00UL)
#define IWDG_BASE					(APB1PERIPH_BASE + 0x3000UL)
#define I2S2ext_BASE				(APB1PERIPH_BASE + 0x3400UL)
#define SPI2_BASE					(APB1PERIPH_BASE + 0x3800UL)
#define SPI3_BASE					(APB1PERIPH_BASE + 0x3C00UL)
#define I2S3ext_BASE				(APB1PERIPH_BASE + 0x4000UL)
#define USART2_BASE					(APB1PERIPH_BASE + 0x4400UL)
#define USART3_BASE					(APB1PERIPH_BASE + 0x4800UL)
#define I2C1_BASE					(APB1PERIPH_BASE + 0x5400UL)
#define I2C2_BASE					(APB1PERIPH_BASE + 0x5800UL)
#define I2C3_BASE					(APB1PERIPH_BASE + 0x5C00UL)
#define FMPI2C1_BASE				(APB1PERIPH_BASE + 0x6000UL)
#define CAN1_BASE					(APB1PERIPH_BASE + 0x6400UL)
#define CAN2_BASE					(APB1PERIPH_BASE + 0x6800UL)
#define PWR_BASE					(APB1PERIPH_BASE + 0x7000UL)


/*!<
 * APB2 peripheral map
 * */
#define TIM1_BASE					(APB2PERIPH_BASE + 0x0000UL)
#define TIM8_BASE					(APB2PERIPH_BASE + 0x0400UL)
#define USART1_BASE					(APB2PERIPH_BASE + 0x1000UL)
#define USART6_BASE					(APB2PERIPH_BASE + 0x1400UL)
#define ADC1_BASE					(APB2PERIPH_BASE + 0x2000UL)
#define ADC_COMMON_BASE				(APB2PERIPH_BASE + 0x2300UL)
#define SDIO_BASE					(APB2PERIPH_BASE + 0x2C00UL)
#define SPI1_BASE					(APB2PERIPH_BASE + 0x3000UL)
#define SPI4_BASE					(APB2PERIPH_BASE + 0x3400UL)
#define SYSCFG_BASE					(APB2PERIPH_BASE + 0x3800UL)
#define EXTI_BASE					(APB2PERIPH_BASE + 0x3C00UL)
#define TIM9_BASE					(APB2PERIPH_BASE + 0x4000UL)
#define TIM10_BASE					(APB2PERIPH_BASE + 0x4400UL)
#define TIM11_BASE					(APB2PERIPH_BASE + 0x4800UL)
#define SPI5_BASE					(APB2PERIPH_BASE + 0x5000UL)
#define DFSDM1_BASE					(APB2PERIPH_BASE + 0x6000UL)
#define DFSDM1_Channel0_BASE		(DFSDM1_BASE + 0x00UL)
#define DFSDM1_Channel1_BASE		(DFSDM1_BASE + 0x20UL)
#define DFSDM1_Channel2_BASE		(DFSDM1_BASE + 0x40UL)
#define DFSDM1_Channel3_BASE		(DFSDM1_BASE + 0x60UL)
#define DFSDM1_Filter0_BASE			(DFSDM1_BASE + 0x100UL)
#define DFSDM1_Filter1_BASE			(DFSDM1_BASE + 0x180UL)


/*!<
 * AHB1 peripheral map
 * */
#define GPIOA_BASE					(AHB1PERIPH_BASE + 0x0000UL)
#define GPIOB_BASE					(AHB1PERIPH_BASE + 0x0400UL)
#define GPIOC_BASE					(AHB1PERIPH_BASE + 0x0800UL)
#define GPIOH_BASE					(AHB1PERIPH_BASE + 0x1C00UL)
#define CRC_BASE					(AHB1PERIPH_BASE + 0x3000UL)
#define RCC_BASE					(AHB1PERIPH_BASE + 0x3800UL)
#define FLASH_BASE					(AHB1PERIPH_BASE + 0x3C00UL)
#define DMA1_BASE					(AHB1PERIPH_BASE + 0x6000UL)
#define DMA1_Stream0_BASE			(DMA1_BASE + 0x010UL)
#define DMA1_Stream1_BASE			(DMA1_BASE + 0x028UL)
#define DMA1_Stream2_BASE			(DMA1_BASE + 0x040UL)
#define DMA1_Stream3_BASE			(DMA1_BASE + 0x058UL)
#define DMA1_Stream4_BASE			(DMA1_BASE + 0x070UL)
#define DMA1_Stream5_BASE			(DMA1_BASE + 0x088UL)
#define DMA1_Stream6_BASE			(DMA1_BASE + 0x0A0UL)
#define DMA1_Stream7_BASE			(DMA1_BASE + 0x0B8UL)
#define DMA2_BASE					(AHB1PERIPH_BASE + 0x6400UL)
#define DMA2_Stream0_BASE			(DMA2_BASE + 0x010UL)
#define DMA2_Stream1_BASE			(DMA2_BASE + 0x028UL)
#define DMA2_Stream2_BASE			(DMA2_BASE + 0x040UL)
#define DMA2_Stream3_BASE			(DMA2_BASE + 0x058UL)
#define DMA2_Stream4_BASE			(DMA2_BASE + 0x070UL)
#define DMA2_Stream5_BASE			(DMA2_BASE + 0x088UL)
#define DMA2_Stream6_BASE			(DMA2_BASE + 0x0A0UL)
#define DMA2_Stream7_BASE			(DMA2_BASE + 0x0B8UL)


/*!<
 * AHB2 peripheral map
 * */
#define RNG_BASE					(AHB2PERIPH_BASE + 0x60800UL)


/*!<
 * Misc peripheral map
 * */
#define UID_BASE					0x1FFF7A10UL
#define FLASHSIZE_BASE				0x1FFF7A22UL
#define PACKAGE_BASE				0x1FFF7BF0UL
#define DBGMCU_BASE					0xE0042000UL
#define USB_OTG_FS_PERIPH_BASE		0x50000000UL
#define USB_OTG_GLOBAL_BASE			(USB_OTG_FS_PERIPH_BASE + 0x000UL)
#define USB_OTG_DEVICE_BASE			(USB_OTG_FS_PERIPH_BASE + 0x800UL)
#define USB_OTG_IN_ENDPOINT_BASE	(USB_OTG_FS_PERIPH_BASE + 0x900UL)
#define USB_OTG_OUT_ENDPOINT_BASE	(USB_OTG_FS_PERIPH_BASE + 0xB00UL)
#define USB_OTG_HOST_BASE			(USB_OTG_FS_PERIPH_BASE + 0x400UL)
#define USB_OTG_HOST_PORT_BASE		(USB_OTG_FS_PERIPH_BASE + 0x440UL)
#define USB_OTG_HOST_CHANNEL_BASE	(USB_OTG_FS_PERIPH_BASE + 0x500UL)
#define USB_OTG_PCGCCTL_BASE		(USB_OTG_FS_PERIPH_BASE + 0xE00UL)
#define USB_OTG_FIFO_BASE			(USB_OTG_FS_PERIPH_BASE + 0x1000UL)
#define USB_OTG_HOST_CHANNEL_SIZE	0x20UL
#define USB_OTG_EP_REG_SIZE			0x20UL
#define USB_OTG_FIFO_SIZE			0x1000UL



/*!<
 * core peripheral register maps
 * */
/*!< SYS TICK TODO */
/*!< NVIC TODO */
#define NVIC_ISER		0x000
#define NVIC_ICER		0x080
#define NVIC_ISPR		0x100
#define NVIC_ICPR		0x180
#define NVIC_IABR		0x200
#define NVIC_IP			0x300
#define NVIC_STIR		0xE00

/*!< SCB */
#define SCB_CPUID		0x00U
#define SCB_ICSR		0x04U
#define SCB_VTOR		0x08U
#define SCB_AIRCR		0x0CU
#define SCB_SCR			0x10U
#define SCB_CCR			0x14U
#define SCB_SHP			0x18U
#define SCB_SHCSR		0x24U
#define SCB_CFSR		0x28U
#define SCB_HFSR		0x2CU
#define SCB_DFSR		0x30U
#define SCB_MMFAR		0x34U
#define SCB_BFAR		0x38U
#define SCB_AFSR		0x3CU
#define SCB_PFR			0x40U
#define SCB_DFR			0x48U
#define SCB_ADR			0x4CU
#define SCB_MMFR		0x50U
#define SCB_ISAR		0x60U
#define SCB_CPACR		0x88U


/*!<
 * peripheral register maps
 * */
/*!< PWR */
#define PWR_CR			0x00U
#define PWR_CSR			0x04U

/*!< FLASH */
#define FLASH_ACR		0x00U
#define FLASH_KEYR		0x04U
#define FLASH_OPTKEYR	0x08U
#define FLASH_SR		0x0CU
#define FLASH_CR		0x10U
#define FLASH_OPTCR		0x14U
#define FLASH_OPTCR1	0x18U

/*!< RCC */
#define RCC_CR			0x00U
#define RCC_PLLCFGR		0x04U
#define RCC_CFGR		0x08U
#define RCC_CIR			0x0CU
#define RCC_AHB1RSTR	0x10U
#define RCC_AHB2RSTR	0x14U
#define RCC_APB1RSTR	0x20U
#define RCC_APB2RSTR	0x24U
#define RCC_AHB1ENR		0x30U
#define RCC_AHB2ENR		0x34U
#define RCC_APB1ENR		0x40U
#define RCC_APB2ENR		0x44U
#define RCC_AHB1LPENR	0x50U
#define RCC_AHB2LPENR	0x54U
#define RCC_APB1LPENR	0x60U
#define RCC_APB2LPENR	0x64U
#define RCC_BDCR		0x70U
#define RCC_CSR			0x74U
#define RCC_SSCGR		0x80U
#define RCC_PLLI2SCFGR	0x84U
#define RCC_DCKCFGR		0x8CU
#define RCC_CKGATENR	0x90U
#define RCC_DCKCFGR1	0x94U

/*!< SYSCFG */
#define SYSCFG_MEMRMP	0x00U
#define SYSCFG_PMC		0x04U
#define SYSCFG_EXTICR	0x08U
#define SYSCFG_CFGR2	0x1CU
#define SYSCFG_CMPCR	0x20U
#define SYSCFG_CFGR		0x24U

/*!< GPIO */
#define GPIO_MODER		0x00U
#define GPIO_OTYPER		0x04U
#define GPIO_OSPEEDR	0x08U
#define GPIO_PUPDR		0x0CU
#define GPIO_IDR		0x10U
#define GPIO_ODR		0x14U
#define GPIO_BSRR		0x18U
#define GPIO_LCKR		0x1CU
#define GPIO_AFR		0x20U

/*!< EXTI */
#define EXTI_IMR		0x00U
#define EXTI_EMR		0x04U
#define EXTI_RTSR		0x08U
#define EXTI_FTSR		0x0CU
#define EXTI_SWIER		0x10U
#define EXTI_PR			0x14U

/*!< TIM TODO */

/*!< RTC TODO */

/*!< USART */
#define USART_SR  		0x00U
#define USART_DR  		0x04U
#define USART_BRR 		0x08U
#define USART_CR1 		0x0CU
#define USART_CR2 		0x10U
#define USART_CR3 		0x14U
#define USART_GTPR		0x18U

/*!< IWDG TODO */

/*!< CRC TODO */

/*!< RNG TODO */

/*!< ADC TODO */



#endif // STM32F412_MEMORY_MAP_H
